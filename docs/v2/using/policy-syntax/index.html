<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="This page describes the content of a policy file.
<?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?> This is the basic beginning to an XML file. Do not change it.
<AggregatorConfiguration> AggregatorConfiguration: The main node for all the configuration options. (Single)
runtime section #  This section controls general behaviour for TFS Aggregator, e.g. authentication, credentials or logging level.
 <runtime debug=&#34;False&#34;> runtime: Configure generic behavior. (Once, Optional)
 debug: turns on debugging options (Optional, default: False)   <rateLimiting interval=&#34;00:00:10."><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="Configuration XML syntax"><meta property="og:description" content="This page describes the content of a policy file.
<?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?> This is the basic beginning to an XML file. Do not change it.
<AggregatorConfiguration> AggregatorConfiguration: The main node for all the configuration options. (Single)
runtime section #  This section controls general behaviour for TFS Aggregator, e.g. authentication, credentials or logging level.
 <runtime debug=&#34;False&#34;> runtime: Configure generic behavior. (Once, Optional)
 debug: turns on debugging options (Optional, default: False)   <rateLimiting interval=&#34;00:00:10."><meta property="og:type" content="article"><meta property="og:url" content="https://tfsaggregator.github.io/docs/v2/using/policy-syntax/"><meta property="article:modified_time" content="2020-06-21T21:30:58+01:00"><title>Configuration XML syntax | Aggregator</title><link rel=manifest href=https://tfsaggregator.github.io/manifest.json><link rel=icon href=https://tfsaggregator.github.io/favicon.png type=image/x-icon><link rel=stylesheet href=https://tfsaggregator.github.io/book.min.b3215d9d1d18d9051e7fbe8f256ff80e30f41d29073b86348e230d297b771002.css integrity="sha256-syFdnR0Y2QUef76PJW/4DjD0HSkHO4Y0jiMNKXt3EAI="><script defer src=https://tfsaggregator.github.io/en.search.min.897d7310c05ff3e465c67fd03cebf6ba929ecebb18c6f2f366a93f0bd7162d37.js integrity="sha256-iX1zEMBf8+Rlxn/QPOv2upKezrsYxvLzZqk/C9cWLTc="></script></head><body><input type=checkbox class=hidden id=menu-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=https://tfsaggregator.github.io/><span>Aggregator</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=https://tfsaggregator.github.io/docs/v3/>Aggregator CLI</a><ul><li><a href=https://tfsaggregator.github.io/docs/v3/setup/>Setup</a><ul><li><a href=https://tfsaggregator.github.io/docs/v3/setup/production/>Production</a></li></ul></li><li><a href=https://tfsaggregator.github.io/docs/v3/commands/>Commands</a><ul><li><a href=https://tfsaggregator.github.io/docs/v3/commands/command-examples/>Examples</a></li></ul></li><li><a href=https://tfsaggregator.github.io/docs/v3/rules/>Rules</a><ul><li><a href=https://tfsaggregator.github.io/docs/v3/rules/rule-examples-basic/>Basic examples</a></li><li><a href=https://tfsaggregator.github.io/docs/v3/rules/rule-examples-advanced/>Advanced examples</a></li></ul></li><li><a href=https://tfsaggregator.github.io/docs/v3/design/>Design</a><ul><li><a href=https://tfsaggregator.github.io/docs/v3/design/parallelism/>Parallelism</a></li></ul></li><li><a href=https://tfsaggregator.github.io/docs/v3/contrib/>Contribute</a><ul></ul></li></ul></li><li><a href=https://tfsaggregator.github.io/docs/v2/>TFS Aggregator v2</a><ul><li><a href=https://tfsaggregator.github.io/docs/v2/intro/ class=collapsed>Introduction</a></li><li><a href=https://tfsaggregator.github.io/docs/v2/using/ class=collapsed>Users' Guide</a><ul><li><a href=https://tfsaggregator.github.io/docs/v2/using/writing-rules/writing-rules/>Writing Rules and Policies</a></li><li><a href=https://tfsaggregator.github.io/docs/v2/using/policy-syntax/ class=active>Configuration XML syntax</a></li><li><a href=https://tfsaggregator.github.io/docs/v2/using/scripting/>Scripting the Rules</a></li><li><a href=https://tfsaggregator.github.io/docs/v2/using/objects-reference/>Objects Reference</a><ul><li><a href=https://tfsaggregator.github.io/docs/v2/using/objects-reference/self-object/>self Object</a></li><li><a href=https://tfsaggregator.github.io/docs/v2/using/objects-reference/field-object/>Field Object</a></li><li><a href=https://tfsaggregator.github.io/docs/v2/using/objects-reference/store-object/>store Object</a></li><li><a href=https://tfsaggregator.github.io/docs/v2/using/objects-reference/logger-object/>logger Object</a></li><li><a href=https://tfsaggregator.github.io/docs/v2/using/objects-reference/library-objects/>Library Objects</a></li></ul></li><li><a href=https://tfsaggregator.github.io/docs/v2/using/examples/>Examples of Policies</a><ul><li><a href=https://tfsaggregator.github.io/docs/v2/using/examples/accumulate-to-grand-parent/>Accumulate to grand-parent example</a></li><li><a href=https://tfsaggregator.github.io/docs/v2/using/examples/auto-create-children/>Auto-Create Children example</a></li><li><a href=https://tfsaggregator.github.io/docs/v2/using/examples/auto-open-auto-close/>Auto-Open and Auto-Close example</a></li><li><a href=https://tfsaggregator.github.io/docs/v2/using/examples/log-time-synch/>Remaining Work and Completed Work synchronization for Task WI</a></li><li><a href=https://tfsaggregator.github.io/docs/v2/using/examples/rollup/>Rollup examples</a></li></ul></li><li><a href=https://tfsaggregator.github.io/docs/v2/using/scripting-tricks-n-tips/scripting-tricks-n-tips/>Tricks & Tips</a></li><li><a href=https://tfsaggregator.github.io/docs/v2/using/scripting-pitfalls/>Common Pitfalls</a></li><li><a href=https://tfsaggregator.github.io/docs/v2/using/field-history/>History field</a></li><li><a href=https://tfsaggregator.github.io/docs/v2/using/upgrade-from-v1/>Upgrading from v1</a></li></ul></li><li><a href=https://tfsaggregator.github.io/docs/v2/admin/ class=collapsed>Administrator Guide</a></li><li><a href=https://tfsaggregator.github.io/docs/v2/contrib/ class=collapsed>Contributing</a></li><li><a href=https://tfsaggregator.github.io/docs/v2/changelog/>Changelog</a></li></ul></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=https://tfsaggregator.github.io/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Configuration XML syntax</strong>
<label for=toc-control><img src=https://tfsaggregator.github.io/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><input type=checkbox class=hidden id=toc-control><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#runtime-section>runtime section</a></li><li><a href=#snippet-sections>snippet sections</a></li><li><a href=#functions-sections>functions sections</a></li><li><a href=#rule-sections>rule sections</a></li><li><a href=#policy-sections>policy sections</a></li></ul></nav></aside></header><article class=markdown><p>This page describes the content of a policy file.</p><pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
</code></pre><p>This is the basic beginning to an XML file. Do not change it.</p><pre><code>&lt;AggregatorConfiguration&gt;
</code></pre><p><strong>AggregatorConfiguration</strong>: The main node for all the configuration options. (Single)</p><h2 id=runtime-section>runtime section
<a class=anchor href=#runtime-section>#</a></h2><p>This section controls general behaviour for TFS Aggregator, e.g. authentication, credentials or logging level.</p><pre><code>    &lt;runtime debug=&quot;False&quot;&gt;
</code></pre><p><strong>runtime</strong>: Configure generic behavior. (Once, Optional)</p><ul><li><strong>debug</strong>: turns on debugging options (Optional, default: False)</li></ul><pre><code>        &lt;rateLimiting interval=&quot;00:00:10.00&quot; changes=&quot;10&quot; /&gt;
</code></pre><p><strong>rateLimiting</strong>: Define how Aggregator rejects incoming requests. (Once, Optional)</p><ul><li><strong>interval</strong>: Timespan to validate. (Optional, default: 00:00:01.00)</li><li><strong>changes</strong>: Maximum number of changes in interval. (Optional, default: 5 )</li></ul><p>Use RateLimiting.policy to test your configuration on a server.</p><pre><code>        &lt;logging level=&quot;Diagnostic&quot;/&gt;
</code></pre><p><strong>logging</strong>: Define logging behavior. (Once, Optional)</p><ul><li><strong>level</strong>: The level of logging. (Optional)
Valid values are:<ul><li><code>Critical</code></li><li><code>Error</code></li><li><code>Warning</code></li><li><code>Information</code> or <code>Normal</code> &ndash; default value</li><li><code>Verbose</code></li><li><code>Diagnostic</code>.
See the Help page for more information: <a href=https://tfsaggregator.github.io/admin/troubleshooting>TFS Aggregator Troubleshooting</a></li></ul></li></ul><pre><code>        &lt;script language=&quot;C#&quot; /&gt;
</code></pre><p><strong>script</strong>: Define script engine behavior. (Once, Optional)</p><ul><li><strong>language</strong>: The language used to express the rules. (Optional)
Valid values are:<ul><li><code>CS</code>,<code>CSHARP</code>,<code>C#</code> &ndash; default value</li><li><code>VB</code>,<code>VB.NET</code>,<code>VBNET</code></li><li><code>PS</code>,<code>POWERSHELL</code> &ndash; <em>Experimental</em>!</li></ul></li></ul><pre><code>        &lt;authentication autoImpersonate=&quot;true&quot; /&gt;
        &lt;authentication personalToken=&quot;abcd1234654sdfsfsdfs45645654645&quot; /&gt;
        &lt;authentication username=&quot;user1&quot; password=&quot;password1&quot; /&gt;
</code></pre><p><strong>authentication</strong>: Define authentication behavior. (Once, Optional)</p><ul><li><strong>autoImpersonate</strong>: <code>false</code> (default) the TFS Service account, <code>true</code> the user requesting. (Optional)</li><li><strong>personalToken</strong>: A Personal Access Token. (WebService, Optional)</li><li><strong>username</strong>: A Username. (WebService, Optional)</li><li><strong>password</strong>: A Password in clear text. (WebService, Optional)</li></ul><pre><code>        &lt;server baseUrl=&quot;http://localhost:8080/tfs&quot; /&gt;
</code></pre><p><strong>server</strong>: Define server configuration. (2.1, Once, Optional)</p><ul><li><strong>baseUrl</strong>: Forces the URL that Aggregator use to access TFS. (Optional)
Can be useful is TFS is misconfigured, or you have some special requirements.
Avoid to use if possibile.</li></ul><h2 id=snippet-sections>snippet sections
<a class=anchor href=#snippet-sections>#</a></h2><p>These sections can contain helper code to write the Rules (see below).</p><pre><code>    &lt;snippet name=&quot;MySnippet&quot;&gt;
    &lt;/snippet&gt;
</code></pre><p><strong>snippet</strong>: Represents a code macro rule. (2.2, Repeatable)</p><ul><li><strong>name</strong>: The name of this code macro. (Mandatory)</li></ul><h2 id=functions-sections>functions sections
<a class=anchor href=#functions-sections>#</a></h2><p>These sections can contain helper code to write the Rules (see below).</p><pre><code>    &lt;function&gt;
    &lt;/function&gt;
</code></pre><p><strong>function</strong>: Contains methods callable from rules. (2.2, Repeatable)</p><h2 id=rule-sections>rule sections
<a class=anchor href=#rule-sections>#</a></h2><p>This is the core of this file: these sections contain the Rules applied to work items.</p><pre><code>    &lt;rule name=&quot;Noop&quot; appliesTo=&quot;Task,Bug&quot; hasFields=&quot;System.Title,System.Description&quot;&gt;
    &lt;/rule&gt;
</code></pre><p><strong>rule</strong>: Represents a single rule. (Repeatable)</p><ul><li><strong>name</strong>: The name of this rule. (Mandatory)</li><li><strong>appliesTo</strong>: The name of the work item type that this rule will target. (All: *, List, Optional, List separators: ,;)</li><li><strong>hasFields</strong>: The work item must have the listed fields for the rule to apply. (All: *, List, Optional, List separators: ,;)</li><li><strong>changes</strong>: <code>New,Change,Delete,Restore</code> (default) what change event triggers the Rule. (WebService, Optional)</li><li><strong><em>content</em></strong>: the script to execute when the rule triggers. (Mandatory)
The <code>self</code> (<code>$self</code> in PowerShell) variable contains the work item that triggered the plugin.
The <code>self</code> (<code>$self</code> in PowerShell) variable contains the work item that triggered the plugin.</li></ul><p>We recommended using <a href=http://www.w3.org/TR/REC-xml/#sec-cdata-sect>CDATA</a> to wrap script code.
See <a href=Scripting>Scripting</a> for additional details on Rules&rsquo; code.</p><p>To invoke a <a href=https://tfsaggregator.github.io/using/policy-syntax/#snippet-sections>snippet</a> the syntax is <code>${</code>_nameOfSnippet_<code>}</code>.</p><h2 id=policy-sections>policy sections
<a class=anchor href=#policy-sections>#</a></h2><p>These sections maps rule to Collections and Projects.</p><pre><code>    &lt;policy name=&quot;DefaultPolicy&quot;&gt;
</code></pre><p><strong>policy</strong>: Represent a set of aggregation rules that apply to a particular scope. (Repeatable)</p><ul><li><strong>name</strong>: The name of this policy. (Mandatory)</li></ul><p>All scopes must match for the policy to apply (logical <em>and</em>).</p><pre><code>        &lt;collectionScope collections=&quot;DefaultCollection&quot; /&gt;
</code></pre><p><strong>collectionScope</strong>: Scope the policy to a list of collections. (Optional)</p><ul><li><strong>collections</strong>: The TFS Collection to which the policy applies. (All: *, List, Mandatory, List separators: ,;)</li></ul><pre><code>        &lt;templateScope name=&quot;Scrum&quot; /&gt;
</code></pre><p><strong>templateScope</strong>: Scope the policy to Team Projects using a particular Process Template. (Optional, Repeatable)</p><blockquote><p>DEPRECATED: our implementation does not work with VSTS or recent versions of TFS.</p></blockquote><ul><li><strong>name</strong>: Name of Process Template matching. (Mandatory, mutually exclusive with typeid)</li></ul><p><strong>templateScope</strong> requires that <strong>name</strong> must be present.</p><pre><code>        &lt;projectScope projects=&quot;Project1,Project2&quot; /&gt;
</code></pre><p><strong>projectScope</strong>: Scope the policy to listed Team Projects. (Optional)</p><ul><li><strong>projects</strong>: List of Team Project names. (All: *, List, Mandatory, List separators: ,;)</li></ul><pre><code>        &lt;ruleRef name=&quot;Noop&quot; /&gt;
</code></pre><p><strong>ruleRef</strong>: Reference to a previously declared rule. (Repeatable)</p><ul><li><strong>name</strong>: Name of existing Rule. (Required)</li></ul><p>Rules apply in order.</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/tfsaggregator/tfsaggregator-docs-hugo/commit/f900c8565762077ade874ea3b14d483ce07ee18c title="Last modified by Giulio Vian | June 21, 2020" target=_blank rel=noopener><img src=https://tfsaggregator.github.io/svg/calendar.svg class=book-icon alt=Calendar>
<span>June 21, 2020</span></a></div><div><a class="flex align-center" href=https://github.com/tfsaggregator/tfsaggregator-docs-hugo/edit/master/content//docs/v2/using/policy-syntax.md target=_blank rel=noopener><img src=https://tfsaggregator.github.io/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#runtime-section>runtime section</a></li><li><a href=#snippet-sections>snippet sections</a></li><li><a href=#functions-sections>functions sections</a></li><li><a href=#rule-sections>rule sections</a></li><li><a href=#policy-sections>policy sections</a></li></ul></nav></aside></main></body></html>